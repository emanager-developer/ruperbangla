import{n as h,a6 as u,r as p,j as e,_ as j,l as f,S as i}from"./index-BSZQSoAt.js";function N(){const o=h(),[m,{isLoading:d}]=u(),[a,c]=p.useState([]),x=async r=>{var t;r.preventDefault();const n=(t=a[0])==null?void 0:t.file,l=new FormData;l.append("image",n);try{const s=await m(l).unwrap();s!=null&&s.success&&(c([]),i.fire("","Gallery added successfully","success"),o("/admin/front-end/gallery"))}catch(s){console.error(s),i.fire("",s.message||"Something went wrong!","error")}};return e.jsxs("section",{className:"rounded bg-base-100 shadow",children:[e.jsx("div",{className:"border-b p-4",children:e.jsx("h3",{className:"font-medium text-neutral",children:"Gallery"})}),e.jsxs("form",{onSubmit:x,className:"p-4",children:[e.jsx("div",{className:"flex flex-col gap-3",children:e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("p",{className:"mb-1",children:"Image"}),e.jsx("div",{children:e.jsx(j,{value:a,onChange:r=>c(r),dataURLKey:"data_url",children:({onImageUpload:r,onImageRemove:n,dragProps:l})=>e.jsxs("div",{className:"rounded border border-dashed p-4",...l,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{onClick:r,className:"w-max cursor-pointer rounded-2xl bg-primary px-4 py-1.5 text-sm text-base-100",children:"Choose Image"}),e.jsx("p",{className:"text-neutral-content",children:"or Drop here"})]}),e.jsx("div",{className:`${(a==null?void 0:a.length)>0&&"mt-4"} `,children:a==null?void 0:a.map((t,s)=>e.jsxs("div",{className:"image-item relative",children:[e.jsx("img",{src:t.data_url,alt:"",className:"h-20 w-20"}),e.jsx("div",{onClick:()=>n(s),className:"absolute right-0 top-0 flex h-7 w-7 cursor-pointer items-center justify-center rounded-full bg-primary text-base-100",children:e.jsx(f,{})})]},s))})]})})})]})})}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{disabled:d,className:"admin_btn",children:d?"Loading..":"Add"})})]})]})}export{N as default};
