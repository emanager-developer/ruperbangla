import{r as w,T as y,U as S,V as U,S as o,j as e,_,l as A}from"./index-BSZQSoAt.js";function E(){const[s,m]=w.useState([]),{data:x}=y(),a=x==null?void 0:x.data,i=a==null?void 0:a._id,[b,{isLoading:h,isSuccess:f,isError:p,error:c}]=S(),[N,{isLoading:j,isSuccess:L,isError:g,error:n}]=U(),v=async r=>{var l,u;if(r.preventDefault(),(s==null?void 0:s.length)<=0)return o.fire("","Image is required","warning");const t=new FormData;t.append("logo",(l=s[0])==null?void 0:l.file);try{i?await N({id:i,formData:t}):await b(t)}catch(d){o.fire("",((u=d==null?void 0:d.data)==null?void 0:u.error)||"Something went wrong","error")}};return w.useEffect(()=>{var r,t;p||g?o.fire("",p&&((r=c==null?void 0:c.data)==null?void 0:r.error)||g&&((t=n==null?void 0:n.data)==null?void 0:t.error)||"Something went wrong","error"):f?(m([]),o.fire("","Logo added successfully","success")):L&&(m([]),o.fire("","Logo updated successfully","success"))},[p,c,f,g,n,L]),e.jsxs("section",{className:"rounded bg-base-100 shadow",children:[e.jsx("div",{className:"flex items-center justify-between border-b p-4 font-medium text-neutral",children:e.jsx("h3",{children:i?"Update Logo":"Add Logo"})}),e.jsxs("form",{onSubmit:v,className:"p-4",children:[e.jsxs("div",{className:"w-full md:w-1/2",children:[e.jsx("p",{className:"mb-1",children:"Logo"}),e.jsx("div",{children:e.jsx(_,{value:s,onChange:r=>m(r),dataURLKey:"data_url",children:({onImageUpload:r,onImageRemove:t,dragProps:l})=>e.jsxs("div",{className:"items-center gap-10 rounded border border-dashed p-4 md:flex",...l,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{onClick:r,className:"w-max cursor-pointer rounded-2xl bg-primary px-4 py-1.5 text-sm text-base-100",children:"Choose Image"}),e.jsx("p",{className:"text-neutral-content",children:"or Drop here"})]}),e.jsx("div",{className:`${(s==null?void 0:s.length)>0&&"mt-4"} `,children:s==null?void 0:s.map((u,d)=>e.jsxs("div",{className:"image-item relative",children:[e.jsx("img",{src:u.data_url,alt:"",className:"h-20 w-32"}),e.jsx("div",{onClick:()=>t(d),className:"absolute right-0 top-0 flex h-7 w-7 cursor-pointer items-center justify-center rounded-full bg-primary text-base-100",children:e.jsx(A,{})})]},d))})]})})})]}),e.jsx("div",{className:"mt-4",children:(a==null?void 0:a.logo)&&e.jsx("img",{src:`https://www.api.ruperbangla.com/${a==null?void 0:a.logo}`,alt:"Logo",className:"w-32"})}),e.jsx("div",{className:"mt-5",children:e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{disabled:h||j,className:"admin_btn",children:h||j?"Loading...":i?"Update Logo":"Add Logo"})})})]})]})}export{E as default};
