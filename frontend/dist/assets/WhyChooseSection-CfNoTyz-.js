import{D as x,r as l,j as e,S as y}from"./index-BSZQSoAt.js";const f=x.injectEndpoints({endpoints:o=>({getWhychooseSection:o.query({query:()=>({url:"/whychooseSection"}),providesTags:["whychooseSection"]}),updateWhychooseSection:o.mutation({query:({id:i,info:s})=>({url:`/whychooseSection/update-whychooseSection/${i}`,method:"PATCH",body:s}),invalidatesTags:["whychooseSection"]}),addWhychooseSection:o.mutation({query:i=>({url:"/whychooseSection/add-whychooseSection",method:"POST",body:i}),invalidatesTags:["whychooseSection"]})})}),{useGetWhychooseSectionQuery:g,useUpdateWhychooseSectionMutation:w,useAddWhychooseSectionMutation:j}=f;function v(){const{data:o,isLoading:i}=g(),s=o==null?void 0:o.data,[S,{isLoading:a}]=j(),[m,{isLoading:h}]=w(),[d,r]=l.useState("");l.useEffect(()=>{s&&r(s.title)},[s]);const p=async n=>{n.preventDefault();const u={title:d};let c=s==null?void 0:s._id;try{let t;c?t=await m({id:c,info:u}).unwrap():t=await S(u).unwrap(),t!=null&&t.success&&y.fire("",c?"Section updated successfully!":"Section created successfully!","success")}catch(t){y.fire("",(t==null?void 0:t.message)||"Something went wrong!","error")}};return i?e.jsx("p",{children:"Loading..."}):e.jsxs("section",{className:"rounded bg-base-100 shadow",children:[e.jsx("div",{className:"flex items-center justify-between border-b p-4 font-medium text-neutral",children:e.jsx("h3",{children:"Why Choose Section"})}),e.jsxs("form",{className:"p-4",onSubmit:p,children:[e.jsx("div",{className:"text-neutral-content",children:e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("p",{className:"mb-1",children:"Title"}),e.jsx("input",{type:"text",name:"title",value:d,onChange:n=>r(n.target.value),required:!0})]})})}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{className:"admin_btn",type:"submit",disabled:a||h,children:a||h?"Loading...":"Submit"})})]})]})}export{v as default};
