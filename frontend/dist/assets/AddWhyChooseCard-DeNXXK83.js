import{n as x,r as u,j as e,_ as p,l as j,S as d}from"./index-BSZQSoAt.js";import{b as f}from"./whychooseApi-zIDBIFPo.js";function y(){const[l,{isLoading:n}]=f(),o=x(),[s,c]=u.useState([]),m=async r=>{if(r.preventDefault(),(s==null?void 0:s.length)<=0)return d.fire("","Image is required","warning");const t=new FormData;t.append("image",s[0].file);try{const a=await l(t).unwrap();a!=null&&a.success&&(d.fire("","Why Choose card added successfully!","success"),r.target.reset(),c([]),o("/admin/whyChoose/cards/all"))}catch(a){d.fire("",a.message||"Something went wrong!","error")}};return e.jsxs("section",{className:"rounded bg-base-100 shadow",children:[e.jsx("div",{className:"flex items-center justify-between border-b p-4 font-medium text-neutral",children:e.jsx("h3",{children:"Add Why Choose Card"})}),e.jsxs("form",{className:"p-4",onSubmit:m,children:[e.jsx("div",{className:"grid items-start gap-4 text-neutral-content sm:grid-cols-2 md:grid-cols-3",children:e.jsx("div",{className:"flex flex-col gap-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"mb-1",children:"Image"}),e.jsx("div",{children:e.jsx(p,{value:s,onChange:r=>c(r),dataURLKey:"data_url",children:({onImageUpload:r,onImageRemove:t,dragProps:a})=>e.jsxs("div",{className:"rounded border border-dashed p-4",...a,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{onClick:r,className:"w-max cursor-pointer rounded-2xl bg-primary px-4 py-1.5 text-sm text-base-100",children:"Choose Image"}),e.jsx("p",{className:"text-neutral-content",children:"or Drop here"})]}),e.jsx("div",{className:`${(s==null?void 0:s.length)>0&&"mt-4"} `,children:s==null?void 0:s.map((h,i)=>e.jsxs("div",{className:"image-item relative",children:[e.jsx("img",{src:h.data_url,alt:"Selected",className:"w-24"}),e.jsx("div",{onClick:()=>t(i),className:"absolute right-0 top-0 flex h-7 w-7 cursor-pointer items-center justify-center rounded-full bg-primary text-base-100",children:e.jsx(j,{})})]},i))})]})})})]})})}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",className:"admin_btn",disabled:n,children:n?"Adding...":"Add Project"})})]})]})}export{y as default};
