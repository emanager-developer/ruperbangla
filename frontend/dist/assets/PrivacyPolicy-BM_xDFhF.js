import{r as c,j as s,J as h,S as r}from"./index-BSZQSoAt.js";import{u as S,a as j,b as w}from"./privacyApi-wGPAR56-.js";function L(){const y=c.useRef(null),[n,d]=c.useState(""),[o,x]=c.useState(null),{data:t,isLoading:P}=S(),[g,{isLoading:l}]=j(),[p,{isLoading:u}]=w();c.useEffect(()=>{var a,i;t&&(d((a=t==null?void 0:t.data)==null?void 0:a.description),x((i=t==null?void 0:t.data)==null?void 0:i._id))},[t]);const v=async a=>{var f,m;a.preventDefault();const i={description:n};try{if(o){const e=await p({id:o,data:i});(f=e==null?void 0:e.data)!=null&&f.success?r.fire("Success","Privacy Policy updated successfully","success"):r.fire("Error","Something went wrong","error")}else{const e=await g(i);(m=e==null?void 0:e.data)!=null&&m.success?r.fire("Success","Privacy Policy created successfully","success"):r.fire("Error","Something went wrong","error")}}catch(e){r.fire("Error","Something went wrong","error"),console.log(e)}};return s.jsxs("div",{className:"make_privacy_policy",children:[s.jsx("h2",{className:"mb-3 text-center text-xl font-medium text-primary sm:text-2xl",children:o?"Edit Privacy Policy":"Create Privacy Policy"}),P?s.jsx("p",{children:"Loading..."}):s.jsxs("form",{onSubmit:v,children:[s.jsx(h,{ref:y,value:n,onBlur:a=>d(a)}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{className:"admin_btn",disabled:l||u,children:l||u?"Loading...":"Submit"})})]})]})}export{L as default};
