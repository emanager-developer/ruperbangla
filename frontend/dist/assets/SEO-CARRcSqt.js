import{Y as k,$ as A,r,a0 as M,a1 as D,j as e,S as c}from"./index-BSZQSoAt.js";function q(i){return k({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"},child:[]}]})(i)}function U(){const{data:i,isLoading:E}=A(),t=i==null?void 0:i.data,l=t==null?void 0:t._id,[o,m]=r.useState(""),[d,u]=r.useState([]),[C,{isLoading:p}]=M(),[O,{isLoading:x}]=D(),[h,g]=r.useState(""),[S,j]=r.useState(""),[f,v]=r.useState(""),[w,y]=r.useState("");r.useEffect(()=>{t&&(g((t==null?void 0:t.title)||""),u((t==null?void 0:t.keywords)||[]),j((t==null?void 0:t.author)||""),v((t==null?void 0:t.metaContent)||""),y((t==null?void 0:t.description)||""))},[t]);const L=s=>{const a=[...d];a.splice(s,1),u(a)},K=async s=>{var N,b;s.preventDefault();const a={title:h,keywords:d,author:S,metaContent:f,description:w};try{if(l){const n=await O({id:l,seoData:a});(N=n==null?void 0:n.data)!=null&&N.success?c.fire("","SEO Setting Updated Successfully","success"):c.fire("","Something went wrong, please try again later","error")}else{const n=await C(a);(b=n==null?void 0:n.data)!=null&&b.success?c.fire("","SEO Setting Added Successfully","success"):c.fire("","Something went wrong, please try again later","error")}}catch{c.fire("","Something went wrong, please try again later","error")}};return E?e.jsx("p",{children:"Loading SEO Settings..."}):e.jsxs("section",{className:"mx-auto rounded bg-base-100 shadow md:w-3/4",children:[e.jsx("div",{className:"border-b p-4",children:e.jsx("h3",{className:"font-medium text-neutral",children:"SEO Setting"})}),e.jsxs("form",{onSubmit:K,className:"form_group p-4 text-neutral-content",children:[e.jsxs("div",{className:"flex flex-col gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1",children:"Title *"}),e.jsx("input",{type:"text",name:"title",value:h,onChange:s=>g(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1",children:"Keywords"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"text",placeholder:"Press Enter and add Keyword",value:o,onChange:s=>m(s.target.value)}),e.jsx("div",{onClick:()=>{o.trim()&&(u([...d,o]),m(""))},className:"mt-px flex h-[34px] w-10 cursor-pointer items-center justify-center rounded bg-primary text-base-100",children:"+"})]}),e.jsx("div",{className:"mt-2",children:d.map((s,a)=>e.jsxs("span",{className:"relative mb-2 mr-2 whitespace-nowrap rounded bg-gray-100 px-3 py-1",children:[s,e.jsx("span",{onClick:()=>L(a),className:"absolute -right-1 -top-1 cursor-pointer text-lg text-red-500",children:e.jsx(q,{})})]},a))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1",children:"Author *"}),e.jsx("input",{type:"text",name:"author",value:S,onChange:s=>j(s.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-1",children:"Meta Content"}),e.jsx("input",{type:"text",name:"metaContent",value:f,onChange:s=>v(s.target.value)})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"mb-1",children:"Description *"}),e.jsx("textarea",{name:"description",rows:"2",value:w,onChange:s=>y(s.target.value),required:!0})]})]}),e.jsx("div",{className:"mt-5",children:e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{disabled:p||x,className:"admin_btn",children:p||x?"Loading...":l?"Update SEO Setting":"Add SEO Setting"})})})]})]})}export{U as default};
