import{Y as s,w as j,a7 as f,j as e,f as C,L as p,t as v,S as l}from"./index-BSZQSoAt.js";function w(a){return s({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"256",r:"64"},child:[]},{tag:"path",attr:{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 0 0-.1-34.76zM256 352a96 96 0 1 1 96-96 96.11 96.11 0 0 1-96 96z"},child:[]}]})(a)}function b(a){return s({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M424 80H88a56.06 56.06 0 0 0-56 56v240a56.06 56.06 0 0 0 56 56h336a56.06 56.06 0 0 0 56-56V136a56.06 56.06 0 0 0-56-56zm-14.18 92.63-144 112a16 16 0 0 1-19.64 0l-144-112a16 16 0 1 1 19.64-25.26L256 251.73l134.18-104.36a16 16 0 0 1 19.64 25.26z"},child:[]}]})(a)}function M(){const{data:a,isLoading:o,isError:r,isSuccess:d}=j(),c=a==null?void 0:a.data,[h]=f(),x=async t=>{if(window.confirm("Are you sure you want to delete this message?"))try{const i=await h(t).unwrap();i!=null&&i.success&&l.fire({title:"",text:"Contact message deleted successfully",icon:"success"})}catch(i){l.fire({title:"",text:"Something went wrong",icon:"error"}),console.log(i)}};let n=null;return o?n=e.jsx(C,{}):(r&&(n=e.jsx("p",{className:"mt-5 text-red-500",children:"Failed to load messages"})),!r&&d&&(n=e.jsx("tbody",{children:c==null?void 0:c.map((t,u)=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(t==null?void 0:t.createdAt).toLocaleDateString()}),e.jsx("td",{children:t==null?void 0:t.name}),e.jsx("td",{children:t==null?void 0:t.email}),e.jsx("td",{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{to:`/admin/contact-msg/${t==null?void 0:t._id}`,children:e.jsx(w,{className:"text-lg hover:text-red-500"})}),e.jsx("button",{onClick:()=>x(t==null?void 0:t._id),children:e.jsx(v,{className:"text-lg hover:text-red-500"})})]})})]},t==null?void 0:t._id))})),e.jsxs("section",{children:[e.jsx("div",{className:"rounded border-b bg-base-100 p-4",children:e.jsx("h1",{className:"font-medium text-neutral",children:"Client Messages"})}),e.jsx("div",{className:"relative mt-2 overflow-x-auto",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"SL"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Action"})]})}),n]})})]}))}const S=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"}));export{M as C,b as I,S as a};
