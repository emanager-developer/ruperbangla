import{D as B,r as d,j as s,S as r}from"./index-BSZQSoAt.js";const N=B.injectEndpoints({endpoints:t=>({getBusinessInfo:t.query({query:()=>({url:"/businessInfo/get"}),providesTags:["businessInfo"]}),addBusinessInfo:t.mutation({query:i=>({url:"/businessInfo/add",method:"POST",body:i}),invalidatesTags:["businessInfo"]}),updateBusinessInfo:t.mutation({query:({id:i,info:e})=>({url:`/businessInfo/update/${i}`,method:"PATCH",body:e}),invalidatesTags:["businessInfo"]})})}),{useGetBusinessInfoQuery:S,useAddBusinessInfoMutation:T,useUpdateBusinessInfoMutation:q}=N;function w(){const{data:t,isLoading:i}=S(),e=t==null?void 0:t.data,o=e==null?void 0:e._id,[u,c]=d.useState(""),[l,m]=d.useState(""),[f,p]=d.useState(""),[y,{isLoading:g}]=T(),[v,{isLoading:x}]=q();d.useEffect(()=>{e&&(c((e==null?void 0:e.name)||""),m((e==null?void 0:e.startYear)||""),p((e==null?void 0:e.type)||""))},[e]);const b=async a=>{var j,I;a.preventDefault();const h={name:u,startYear:l,type:f};try{if(o){const n=await v({id:o,info:h});(j=n==null?void 0:n.data)!=null&&j.success&&r.fire("","Business Info updated successfully","success")}else{const n=await y(h);(I=n==null?void 0:n.data)!=null&&I.success&&r.fire("","Business Info added successfully","success")}}catch{r.fire("","Something went wrong","error")}};return i?s.jsx("p",{children:"Loading..."}):s.jsxs("section",{className:"rounded bg-base-100 shadow",children:[s.jsx("div",{className:"border-b p-4",children:s.jsx("h3",{className:"font-medium text-neutral",children:"Business Info"})}),s.jsxs("form",{className:"p-4",onSubmit:b,children:[s.jsxs("div",{className:"grid items-start gap-4 text-neutral-content sm:grid-cols-2 md:grid-cols-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"mb-1",children:"Business Name"}),s.jsx("input",{type:"text",name:"businessName",required:!0,value:u,onChange:a=>c(a.target.value)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1",children:"Business Start Year"}),s.jsx("input",{type:"number",name:"businessStartYear",required:!0,value:l,onChange:a=>m(a.target.value)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1",children:"Business Type"}),s.jsx("input",{type:"text",name:"businessType",required:!0,value:f,onChange:a=>p(a.target.value)})]})]}),s.jsx("div",{className:"mt-5",children:s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{disabled:g||x,className:"admin_btn",children:g||x?"Loading...":o?"Update":"Add"})})})]})]})}export{w as default};
